var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r};System.register(["./p-23fca9ea.system.js"],(function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.h;r=t.g;i=t.f;o=t.c}],execute:function(){var u=t("app_root",function(){function t(t){e(this,t)}t.prototype.render=function(){return[n("ion-app",null,n("todo-list",null))]};return t}());var s=t("list_item",function(){function t(t){e(this,t);this.todoList=[]}t.prototype.render=function(){return n("div",{style:{display:" flex",flexDirection:"column"}},this.todoList.map((function(t){return n("todo-item",{key:t.id.toString(),description:t})})))};return t}());var a=function(t,e,n){var r=t.get(e);if(!r){t.set(e,[n])}else if(!r.includes(n)){r.push(n)}};var c=function(t,e){var n;return function(){var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}if(n){clearTimeout(n)}n=setTimeout((function(){n=0;t.apply(void 0,r)}),e)}};var f=function(t){return!("isConnected"in t)||t.isConnected};var d=c((function(t){for(var e=0,n=t.keys();e<n.length;e++){var r=n[e];t.set(r,t.get(r).filter(f))}}),2e3);var l=function(t){var e=t.on;var n=new Map;if(typeof r==="function"){e("dispose",(function(){n.clear()}));e("get",(function(t){var e=r();if(e){a(n,t,e)}}));e("set",(function(t){var e=n.get(t);if(e){n.set(t,e.filter(i))}d(n)}));e("reset",(function(){n.forEach((function(t){return t.forEach(i)}));d(n)}))}};var v=function(t,e){if(e===void 0){e=function(t,e){return t!==e}}var n=new Map(Object.entries(t!==null&&t!==void 0?t:{}));var r={dispose:[],get:[],set:[],reset:[]};var i=function(){n=new Map(Object.entries(t!==null&&t!==void 0?t:{}));r.reset.forEach((function(t){return t()}))};var o=function(){r.dispose.forEach((function(t){return t()}));i()};var u=function(t){r.get.forEach((function(e){return e(t)}));return n.get(t)};var s=function(t,i){var o=n.get(t);if(e(i,o,t)){n.set(t,i);r.set.forEach((function(e){return e(t,i,o)}))}};var a=typeof Proxy==="undefined"?{}:new Proxy(t,{get:function(t,e){return u(e)},ownKeys:function(t){return Array.from(n.keys())},getOwnPropertyDescriptor:function(){return{enumerable:true,configurable:true}},has:function(t,e){return n.has(e)},set:function(t,e,n){s(e,n);return true}});var c=function(t,e){r[t].push(e);return function(){h(r[t],e)}};var f=function(e,n){var r=c("set",(function(t,r){if(t===e){n(r)}}));var i=c("reset",(function(){return n(t[e])}));return function(){r();i()}};var d=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}return t.forEach((function(t){if(t.set){c("set",t.set)}if(t.get){c("get",t.get)}if(t.reset){c("reset",t.reset)}}))};return{state:a,get:u,set:s,on:c,onChange:f,use:d,dispose:o,reset:i}};var h=function(t,e){var n=t.indexOf(e);if(n>=0){t[n]=t[t.length-1];t.length--}};var p=function(t,e){var n=v(t,e);l(n);return n};var g=p({items:[{id:new Date,title:"test",description:"",isDone:true}],itemsLength:1}),m=g.state,y=g.onChange;y("items",(function(t){console.log("on change",t);m.itemsLength=m.items.length}));var D=t("todo_creator",function(){function t(t){e(this,t);this.value=""}t.prototype.render=function(){var t=this;return[n("ion-input",{type:"text",name:"todo title",onIonChange:function(e){return t.value=e.detail.value}}),n("ion-button",{onClick:function(){return t.addTodoItem(t.value)}},"add"),n("ion-button",{onClick:function(){return t.deleteAllTodoItem()}},"delete all"),n("span",null,"total: ",m.itemsLength)]};return t}());var I=t("todo_item",function(){function t(t){e(this,t);this.changeIsDone=o(this,"changeIsDone",7)}t.prototype.render=function(){var t=this;console.log("item render",this.description);return[n("input",{type:"checkbox",checked:this.description.isDone,onChange:function(){return t.changeIsDone.emit({id:t.description.id,value:!t.description.isDone})}}),n("span",{style:this.description.isDone?{textDecoration:"line-through"}:{textDecoration:"none"}},this.description.title)]};return t}());var _=t("todo_list",function(){function t(t){e(this,t)}t.prototype.isDoneChange=function(t){var e=t.detail,n=e.id,r=e.value;var i=m.items.findIndex((function(t){return t.id===n}));m.items[i].isDone=r;m.items[i]=Object.assign({},m.items[i]);m.items=__spreadArrays(m.items)};t.prototype.addItem=function(t){console.log("addItem",t);m.items=__spreadArrays(m.items,[{id:new Date,title:t,description:"",isDone:false}])};t.prototype.deleteAllItems=function(){m.items=[]};t.prototype.render=function(){var t=this;return[n("h1",null,"Todo list"),n("list-item",{todoList:m.items}),n("todo-creator",{addTodoItem:function(e){return t.addItem(e)},deleteAllTodoItem:function(){return t.deleteAllItems()}})]};return t}())}}}));